/**
 * Minified by jsDelivr using Terser v5.19.2.
 * Original file: /npm/mgrs@1.0.0/dist/mgrs.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e(t.mgrs=t.mgrs||{})}(this,(function(t){"use strict";var e=6,r="AJSAJS",a="AFAFAF",n=65,o=73,i=79,s=86,h=90,c={forward:f,inverse:u,toPoint:l};function f(t,e){return e=e||5,function(t,e){var c="00000"+t.easting,f="00000"+t.northing;return t.zoneNumber+t.zoneLetter+(A=t.easting,z=t.northing,w=t.zoneNumber,C=d(w),P=Math.floor(A/1e5),S=Math.floor(z/1e5)%20,u=P,l=S,M=C,b=M-1,g=r.charCodeAt(b),v=a.charCodeAt(b),m=g+u-1,k=v+l,p=!1,m>h&&(m=m-h+n-1,p=!0),(m===o||g<o&&m>o||(m>o||g<o)&&p)&&m++,(m===i||g<i&&m>i||(m>i||g<i)&&p)&&++m===o&&m++,m>h&&(m=m-h+n-1),k>s?(k=k-s+n-1,p=!0):p=!1,(k===o||v<o&&k>o||(k>o||v<o)&&p)&&k++,(k===i||v<i&&k>i||(k>i||v<i)&&p)&&++k===o&&k++,k>s&&(k=k-s+n-1),String.fromCharCode(m)+String.fromCharCode(k))+c.substr(c.length-5,e)+f.substr(f.length-5,e);var u,l,M,b,g,v,m,k,p;var A,z,w,C,P,S}(function(t){var e,r,a,n,o,i,s,h,c=t.lat,f=t.lon,u=6378137,l=.00669438,b=.9996,g=M(c),d=M(f);h=Math.floor((f+180)/6)+1,180===f&&(h=60);c>=56&&c<64&&f>=3&&f<12&&(h=32);c>=72&&c<84&&(f>=0&&f<9?h=31:f>=9&&f<21?h=33:f>=21&&f<33?h=35:f>=33&&f<42&&(h=37));s=M(6*(h-1)-180+3),e=l/(1-l),r=u/Math.sqrt(1-l*Math.sin(g)*Math.sin(g)),a=Math.tan(g)*Math.tan(g),n=e*Math.cos(g)*Math.cos(g),o=Math.cos(g)*(d-s),i=u*((1-l/4-3*l*l/64-5*l*l*l/256)*g-(3*l/8+3*l*l/32+45*l*l*l/1024)*Math.sin(2*g)+(15*l*l/256+45*l*l*l/1024)*Math.sin(4*g)-35*l*l*l/3072*Math.sin(6*g));var m=b*r*(o+(1-a+n)*o*o*o/6+(5-18*a+a*a+72*n-58*e)*o*o*o*o*o/120)+5e5,k=b*(i+r*Math.tan(g)*(o*o/2+(5-a+9*n+4*n*n)*o*o*o*o/24+(61-58*a+a*a+600*n-330*e)*o*o*o*o*o*o/720));c<0&&(k+=1e7);return{northing:Math.round(k),easting:Math.round(m),zoneNumber:h,zoneLetter:v(c)}}({lat:t[1],lon:t[0]}),e)}function u(t){var e=g(m(t.toUpperCase()));return e.lat&&e.lon?[e.lon,e.lat,e.lon,e.lat]:[e.left,e.bottom,e.right,e.top]}function l(t){var e=g(m(t.toUpperCase()));return e.lat&&e.lon?[e.lon,e.lat]:[(e.left+e.right)/2,(e.top+e.bottom)/2]}function M(t){return t*(Math.PI/180)}function b(t){return t/Math.PI*180}function g(t){var e=t.northing,r=t.easting,a=t.zoneLetter,n=t.zoneNumber;if(n<0||n>60)return null;var o,i,s,h,c,f,u,l,M,v=.9996,d=6378137,m=.00669438,k=(1-Math.sqrt(.99330562))/(1+Math.sqrt(.99330562)),p=r-5e5,A=e;a<"N"&&(A-=1e7),u=6*(n-1)-180+3,o=.006739496752268451,M=(l=A/v/6367449.145945056)+(3*k/2-27*k*k*k/32)*Math.sin(2*l)+(21*k*k/16-55*k*k*k*k/32)*Math.sin(4*l)+151*k*k*k/96*Math.sin(6*l),i=d/Math.sqrt(1-m*Math.sin(M)*Math.sin(M)),s=Math.tan(M)*Math.tan(M),h=o*Math.cos(M)*Math.cos(M),c=.99330562*d/Math.pow(1-m*Math.sin(M)*Math.sin(M),1.5),f=p/(i*v);var z=M-i*Math.tan(M)/c*(f*f/2-(5+3*s+10*h-4*h*h-9*o)*f*f*f*f/24+(61+90*s+298*h+45*s*s-1.6983531815716497-3*h*h)*f*f*f*f*f*f/720);z=b(z);var w,C=(f-(1+2*s+h)*f*f*f/6+(5-2*h+28*s-3*h*h+8*o+24*s*s)*f*f*f*f*f/120)/Math.cos(M);if(C=u+b(C),t.accuracy){var P=g({northing:t.northing+t.accuracy,easting:t.easting+t.accuracy,zoneLetter:t.zoneLetter,zoneNumber:t.zoneNumber});w={top:P.lat,right:P.lon,bottom:z,left:C}}else w={lat:z,lon:C};return w}function v(t){var e="Z";return 84>=t&&t>=72?e="X":72>t&&t>=64?e="W":64>t&&t>=56?e="V":56>t&&t>=48?e="U":48>t&&t>=40?e="T":40>t&&t>=32?e="S":32>t&&t>=24?e="R":24>t&&t>=16?e="Q":16>t&&t>=8?e="P":8>t&&t>=0?e="N":0>t&&t>=-8?e="M":-8>t&&t>=-16?e="L":-16>t&&t>=-24?e="K":-24>t&&t>=-32?e="J":-32>t&&t>=-40?e="H":-40>t&&t>=-48?e="G":-48>t&&t>=-56?e="F":-56>t&&t>=-64?e="E":-64>t&&t>=-72?e="D":-72>t&&t>=-80&&(e="C"),e}function d(t){var r=t%e;return 0===r&&(r=e),r}function m(t){if(t&&0===t.length)throw"MGRSPoint coverting from nothing";for(var e,c=t.length,f=null,u="",l=0;!/[A-Z]/.test(e=t.charAt(l));){if(l>=2)throw"MGRSPoint bad conversion from: "+t;u+=e,l++}var M=parseInt(u,10);if(0===l||l+3>c)throw"MGRSPoint bad conversion from: "+t;var b=t.charAt(l++);if(b<="A"||"B"===b||"Y"===b||b>="Z"||"I"===b||"O"===b)throw"MGRSPoint zone letter "+b+" not handled: "+t;f=t.substring(l,l+=2);for(var g=d(M),v=function(t,e){var a=r.charCodeAt(e-1),s=1e5,c=!1;for(;a!==t.charCodeAt(0);){if(++a===o&&a++,a===i&&a++,a>h){if(c)throw"Bad character: "+t;a=n,c=!0}s+=1e5}return s}(f.charAt(0),g),m=function(t,e){if(t>"V")throw"MGRSPoint given invalid Northing "+t;var r=a.charCodeAt(e-1),h=0,c=!1;for(;r!==t.charCodeAt(0);){if(++r===o&&r++,r===i&&r++,r>s){if(c)throw"Bad character: "+t;r=n,c=!0}h+=1e5}return h}(f.charAt(1),g);m<k(b);)m+=2e6;var p=c-l;if(p%2!=0)throw"MGRSPoint has to have an even number \nof digits after the zone letter and two 100km letters - front \nhalf for easting meters, second half for \nnorthing meters"+t;var A,z,w,C=p/2,P=0,S=0;return C>0&&(A=1e5/Math.pow(10,C),z=t.substring(l,l+C),P=parseFloat(z)*A,w=t.substring(l+C),S=parseFloat(w)*A),{easting:P+v,northing:S+m,zoneLetter:b,zoneNumber:M,accuracy:A}}function k(t){var e;switch(t){case"C":e=11e5;break;case"D":e=2e6;break;case"E":e=28e5;break;case"F":e=37e5;break;case"G":e=46e5;break;case"H":e=55e5;break;case"J":e=64e5;break;case"K":e=73e5;break;case"L":e=82e5;break;case"M":e=91e5;break;case"N":e=0;break;case"P":e=8e5;break;case"Q":e=17e5;break;case"R":e=26e5;break;case"S":e=35e5;break;case"T":e=44e5;break;case"U":e=53e5;break;case"V":e=62e5;break;case"W":e=7e6;break;case"X":e=79e5;break;default:e=-1}if(e>=0)return e;throw"Invalid zone letter: "+t}t.default=c,t.forward=f,t.inverse=u,t.toPoint=l,Object.defineProperty(t,"__esModule",{value:!0})}));
//# sourceMappingURL=/sm/5a0a950bc07e08e50b989cebc7bacf70ff4a6573e64d8b4e792cc205621b155b.map